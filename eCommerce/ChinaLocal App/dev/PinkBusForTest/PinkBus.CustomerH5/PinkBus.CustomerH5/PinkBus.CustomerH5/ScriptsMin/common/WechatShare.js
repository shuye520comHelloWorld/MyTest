define(["jquery","WechatJS","jweixin","CommonShareTrack","httpClient"],function(a,b,c,d,e){var d=new d;a(function(){var d=location.href.split("#")[0];a.getJSON(VirtualDirectory+"/wechat/GetWechatConfig",{url:d},function(a){c.config({debug:location.host.indexOf("dev")>-1?!0:!1,appId:a.appId,timestamp:a.timestamp,nonceStr:a.noncestr,signature:a.signature,jsApiList:b.jsApiList})})}),c.ready(function(){c.checkJsApi({jsApiList:["addCard","onMenuShareTimeline","onMenuShareAppMessage"],success:function(b){if(b.checkResult.onMenuShareAppMessage){var c=new e;c.QueryInvitation({TicketKey:ticketKey},function(a){var b="";a.TicketType.toLowerCase()=="vip"?b="粉巴美丽到家·贵宾邀请券，点我立即领取!":b="粉巴美丽到家·来宾邀请券，点我立即领取!",d.ShareToTimeline(b,window.location.href,a.EventBaseInfo.EventTitle,window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")+"/"+VirtualDirectory+"/Content/Images/icon-wechatshore.jpg"),d.ShareToAppMsg(a.EventBaseInfo.EventTitle,window.location.href,b,window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")+"/"+VirtualDirectory+"/Content/Images/icon-wechatshore.jpg")},function(b){a.alert(b.responseText.ResponseStatus.Message)})}}})})})