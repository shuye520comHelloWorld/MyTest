var rs=function(){var a=document.documentElement.clientWidth;$("body").css({"font-size":a/320+"em"})};$(function(){rs()}),$(window).resize(function(){rs()}),function(a){function b(a,b){this.handlers=[],this.dateArray=a,this.ismulti=b?b:!1,this.init()}function c(c,d){var e=a(this),f=e.html(),g=new b(c,d),h=[];g.on("changed",function(b){console.log(b+"---"),console.log(c),b.map(function(b){a.each(c,function(a,c){c.value===b&&h.push(c)})}),console.log(e),e.siblings("input").val(h.map(function(a){return console.log(a),a.value}).join(","));if(e.siblings("input").is(".required"))if("createEvent"in document){var d=document.createEvent("HTMLEvents");d.initEvent("change",!1,!0),e.siblings("input")[0].dispatchEvent(d)}else e.siblings("input")[0].fireEvent("onchange");console.log(h),h.length>0?(e.html(h.map(function(a){return console.log(a),a.text}).join(" ")),e.toggleClass("info-select-placeholer",!1)):(e.html(f),e.toggleClass("info-select-placeholer",!0)),h=[]}),e.on("click",function(a){g.show()})}b.prototype={constructor:b,on:function(a,b){typeof this.handlers[a]=="undefined"&&(this.handlers[a]=[]),this.handlers[a].push(b)},fire:function(a,b){if(this.handlers[a]instanceof Array){var c=this.handlers[a];for(var d=0,e=c.length;d<e;d++)c[d](b)}},render:function(){var b=this;return b.cancleBtn=a('<button class="pure-button cancle-btn">取消</button>'),b.submitBtn=a('<button class="pure-button submit-btn">确认</button>'),b.boundingbox=a('<div class="select-section"></div>'),b.boundingboxheader=a('<div class="select-section-header">请选择</div>'),b.boundingboxbody=a('<div class="select-section-body"></div>'),b.boundingboxbottom=a('<div class="select-section-bottom"></div>'),b.dateArray.map(function(c){var d=a('<div  class="select-section-item" data-index="'+c.value+'">'+c.text+'<span class="check"></span></div>');b.boundingboxbody.append(d)}),b.boundingboxbottom.append(b.cancleBtn).append(b.submitBtn),b.$div=b.boundingbox.append(b.boundingboxheader).append(b.boundingboxbody).append(b.boundingboxbottom),a("body").append(b.$div),b},bindUI:function(){var b=this,c=[];return b.submitBtn.on("click",function(){b.boundingboxbody.find(".checked").each(function(){c.push(a(this).data("index"))}),b.fire("changed",c),c=[],b.hide()}),b.cancleBtn.on("click",function(){b.fire("cancle"),b.hide()}),b.boundingboxbody.on("click",".select-section-item",function(){a(this).toggleClass("checked"),b.ismulti||a(this).siblings().removeClass("checked")}),this},show:function(){var b;return a("#selectBg").length>0?a("#selectBg").show():(b=a('<div id="selectBg"></div>'),b.appendTo(a("body"))),this.$div.show(),this},hide:function(){a("#selectBg").hide(),this.$div.hide()},init:function(){this.render().bindUI().hide()}},a.fn.infoSelect=function(b){this.each(function(){var d=a(this).attr("id");if(!b[d])return!1;b.multi&&b.multi.indexOf(d)>-1?c.call(this,b[d],!0):c.call(this,b[d],!1)})}}(jQuery),function(a){function b(b){var c=a("#alertDiv");if(c.length===1)return!1;c=a('<div class="lc-alert" id="alertDiv"> </div>'),c.html(b),a("body").append(c),setTimeout(a.proxy(c.remove,c),3e3)}a.alert=b}(jQuery),function(a){function b(){this.dom=$('<div class="lc-loading"><div class="lc-loading-gif"></div><div class="lc-loaidng-words">邀请券加载中，请稍后...</div></div>'),$("body").append(this.dom)}b.prototype={destory:function(){this.dom.remove()}},a.Loading=b}(window),$(".required").on("change keypress",function(){var a=0;$(".required").each(function(){$(this).val().length>0&&(a+=1),a===4?$(".info-form-submit .pure-button").removeClass("disable"):$(".info-form-submit .pure-button").addClass("disable")})})